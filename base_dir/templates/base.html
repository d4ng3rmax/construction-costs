<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">

   <title>Custos de Obra</title>

   <!-- Custom fonts -->
   <link href="{{ url_for('static', filename='vendor/fontawesome-all.min.css') }}" rel="stylesheet" type="text/css">
   <link
      href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
      rel="stylesheet">

   <!-- Custom styles -->
   <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">

   <!-- Flatpickr -->
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

   {% block head %}
   {% endblock %}
</head>

<body id="page-top">

   <!-- Page Wrapper -->
   <div id="wrapper">

      <!-- Sidebar -->
      {% include 'components/sidebar.html' %}
      <!-- End of Sidebar -->

      <!-- Content Wrapper -->
      <div id="content-wrapper" class="d-flex flex-column">

         <!-- Main Content -->
         <div id="content">

            <!-- Topbar -->
            {% include 'components/navbar.html' %}
            <!-- End of Topbar -->

            <!-- Begin Page Content -->
            <div class="container-fluid">
               {% with messages = get_flashed_messages(with_categories=true) %}
               {% if messages %}
               {% for category, message in messages %}
               <div class="alert {{ category }} alert-dismissible fade show" role="alert">
                  {{ message }}
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                     <span aria-hidden="true">&times;</span>
                  </button>
               </div>
               {% endfor %}
               {% endif %}
               {% endwith %}

               {% block body %}
               {% endblock %}
            </div>
            <!-- /.container-fluid -->

         </div>
         <!-- End of Main Content -->

         <!-- Footer -->
         {% include 'components/footer.html' %}
         <!-- End of Footer -->

      </div>
      <!-- End of Content Wrapper -->

   </div>
   <!-- End of Page Wrapper -->

   <!-- Carregar jQuery antes de qualquer outro script -->
   <script src="{{ url_for('static', filename='vendor/jquery.min.js') }}"></script>

   <!-- Verificar se jQuery foi carregado corretamente -->
   <script>
      if (typeof jQuery == 'undefined') {
         console.error("Erro: jQuery local n√£o carregou. Tentando carregar via CDN...");
         var script = document.createElement("script");
         script.src = "https://code.jquery.com/jquery-3.6.0.min.js";
         script.onload = function () {
            console.log("jQuery carregado via CDN!");
         };
         document.head.appendChild(script);
      } else {
         // console.log("jQuery carregado com sucesso!");
      }
   </script>
   <script src="{{ url_for('static', filename='vendor/bootstrap.bundle.min.js') }}"></script>
   <script src="{{ url_for('static', filename='js/sb-admin-2.min.js') }}"></script>
   <script src="{{ url_for('static', filename='vendor/jquery.dataTables.min.js') }}"></script>
   <script src="{{ url_for('static', filename='vendor/jquery.easing.min.js') }}"></script>


   <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>


   {% block scripts %}
   {% endblock %}

</body>

</html>