<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">

   <title>Custos de Obra</title>

   <link href="{{ url_for('static', filename='vendor/fontawesome-all.min.css') }}" rel="stylesheet" type="text/css">
   <link
      href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
      rel="stylesheet">

   <!-- Custom styles -->
   <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">

   {% block head %}
   {% endblock %}
</head>

<body id="page-top">

   <!-- Page Wrapper -->
   <div id="wrapper">

      <!-- Sidebar -->
      {% include 'components/sidebar.html' %}
      <!-- End of Sidebar -->

      <!-- Content Wrapper -->
      <div id="content-wrapper" class="d-flex flex-column">

         <!-- Main Content -->
         <div id="content">

            <!-- Topbar -->
            {% include 'components/navbar.html' %}
            <!-- End of Topbar -->

            <!-- Begin Page Content -->
            <div class="container-fluid">
               {% block body %}
               {% endblock %}
            </div>
            <!-- /.container-fluid -->

         </div>
         <!-- End of Main Content -->

         <!-- Footer -->
         {% include 'components/footer.html' %}
         <!-- End of Footer -->

      </div>
      <!-- End of Content Wrapper -->

   </div>
   <!-- End of Page Wrapper -->

   <script src="{{ url_for('static', filename='vendor/jquery.min.js') }}"></script>
   <script src="{{ url_for('static', filename='vendor/bootstrap.bundle.min.js') }}"></script>
   <script src="{{ url_for('static', filename='vendor/jquery.easing.min.js') }}"></script>
   <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

   <!-- Custom scripts -->
   <script src="{{ url_for('static', filename='js/sb-admin-2.min.js') }}"></script>

   <script defer>
      $(document).ready(function () {
         if (typeof flatpickr !== "undefined") {
            flatpickr(".flatpickr-input", {
               dateFormat: "d/m/Y",
               locale: "pt"
            });
         } else {
            console.error("Flatpickr n√£o carregado corretamente!");
         }
      });
   </script>

   {% block scripts %}
   {% endblock %}

   <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.js"></script>
   <script>
      var socket = io("http://127.0.0.1:5001"); // Conectar ao WebSocket
      socket.on("reload", function (data) {
         console.log("üîÑ Mudan√ßa detectada, recarregando p√°gina...");
         window.location.reload(); // For√ßa o reload do navegador
      });
   </script>


</body>

</html>